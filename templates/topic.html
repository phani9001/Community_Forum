{% extends 'base.html' %}
{% block content %}
<h2>{{ topic.title }}</h2>
<p>{{ topic.content }}</p>
{% if current_user.is_authenticated and topic.user_id == current_user.id %}
    <a href="{{ url_for('edit_topic', topic_id=topic.id) }}">Edit Topic</a>
{% endif %}
<hr>
<h3>Replies</h3>
<ul>
    {% for reply in topic.replies %}
        <li>{{ reply.content }} - User {{ reply.user_id }}</li>
    {% else %}
        <li>No replies yet.</li>
    {% endfor %}
</ul>
{% if current_user.is_authenticated %}
<form method="POST">
    {{ form.hidden_tag() }}
    {{ form.content.label }} {{ form.content }}<br>
    {{ form.submit }}
</form>
{% endif %}
{% endblock %}
